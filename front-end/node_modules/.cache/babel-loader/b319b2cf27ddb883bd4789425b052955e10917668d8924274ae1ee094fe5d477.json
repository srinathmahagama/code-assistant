{"ast":null,"code":"var _jsxFileName = \"/home/srinath/semister_2/TDP/llm-project/front-end/src/components/codeHelper.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { generateAnswer } from '../services/api';\nimport { EventEmitter } from 'events';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const codeHelperEvents = new EventEmitter();\nconst CodeHelper = () => {\n  _s();\n  const [instruction, setInstruction] = useState('');\n  const [generatedAnswer, setGeneratedAnswer] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [questionHistory, setQuestionHistory] = useState([]);\n  const [showRecommendationPrompt, setShowRecommendationPrompt] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!instruction.trim()) return;\n    setLoading(true);\n    setError('');\n    try {\n      const answer = await generateAnswer(instruction);\n      setGeneratedAnswer(answer);\n\n      // Update question history (keep last 2 questions)\n      const newHistory = [...questionHistory, instruction].slice(-2);\n      setQuestionHistory(newHistory);\n\n      // Show prompt after 2nd question\n      if (newHistory.length >= 2 && !showRecommendationPrompt) {\n        setShowRecommendationPrompt(true);\n      }\n    } catch (err) {\n      setError('Failed to generate answer');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGetRecommendations = () => {\n    if (questionHistory.length >= 2) {\n      codeHelperEvents.emit('newInstructions', questionHistory.join(' '));\n      setShowRecommendationPrompt(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"instruction-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ask from Coding Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Python | javascript | ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: instruction,\n        onChange: e => setInstruction(e.target.value),\n        placeholder: \"Enter instruction here\",\n        rows: 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !instruction.trim(),\n          className: loading ? 'loading' : '',\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), \" Generating...\"]\n          }, void 0, true) : 'Generate Answer'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this), showRecommendationPrompt && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleGetRecommendations,\n          className: \"recommend-btn\",\n          children: \"Get Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }, this), generatedAnswer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"generated-answer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Generated Answer:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: generatedAnswer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeHelper, \"6OynhUitiCv2DPvwGAclLEVKFgk=\");\n_c = CodeHelper;\nexport default CodeHelper;\nvar _c;\n$RefreshReg$(_c, \"CodeHelper\");","map":{"version":3,"names":["React","useState","generateAnswer","EventEmitter","jsxDEV","_jsxDEV","Fragment","_Fragment","codeHelperEvents","CodeHelper","_s","instruction","setInstruction","generatedAnswer","setGeneratedAnswer","loading","setLoading","error","setError","questionHistory","setQuestionHistory","showRecommendationPrompt","setShowRecommendationPrompt","handleSubmit","e","preventDefault","trim","answer","newHistory","slice","length","err","console","handleGetRecommendations","emit","join","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","placeholder","rows","type","disabled","onClick","_c","$RefreshReg$"],"sources":["/home/srinath/semister_2/TDP/llm-project/front-end/src/components/codeHelper.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { generateAnswer } from '../services/api';\nimport { EventEmitter } from 'events';\nexport const codeHelperEvents = new EventEmitter();\n\nconst CodeHelper = () => {\n  const [instruction, setInstruction] = useState('');\n  const [generatedAnswer, setGeneratedAnswer] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [questionHistory, setQuestionHistory] = useState([]);\n  const [showRecommendationPrompt, setShowRecommendationPrompt] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!instruction.trim()) return;\n\n    setLoading(true);\n    setError('');\n    try {\n      const answer = await generateAnswer(instruction);\n      setGeneratedAnswer(answer);\n\n      // Update question history (keep last 2 questions)\n      const newHistory = [...questionHistory, instruction].slice(-2);\n      setQuestionHistory(newHistory);\n\n      // Show prompt after 2nd question\n      if (newHistory.length >= 2 && !showRecommendationPrompt) {\n        setShowRecommendationPrompt(true);\n      }\n\n    } catch (err) {\n      setError('Failed to generate answer');\n      console.error(err);\n    }finally {\n    setLoading(false);\n    }\n  };\n\n  const handleGetRecommendations = () => {\n    if (questionHistory.length >= 2) {\n      codeHelperEvents.emit('newInstructions', questionHistory.join(' '));\n      setShowRecommendationPrompt(false);\n    }\n  };\n\n  return (\n    <div className=\"instruction-form\">\n      <h2>Ask from Coding Assistant</h2>\n      <h3>Python | javascript | ...</h3>\n      <form onSubmit={handleSubmit}>\n        <textarea\n          value={instruction}\n          onChange={(e) => setInstruction(e.target.value)}\n          placeholder=\"Enter instruction here\"\n          rows={5}\n        />\n         <div className=\"form-actions\">\n        <button type=\"submit\" disabled={loading || !instruction.trim()}\n        className={loading ? 'loading' : ''}\n        >\n          {loading ? (\n              <>\n                <span className=\"spinner\"></span> Generating...\n              </>\n            ) : 'Generate Answer'}\n          </button>\n\n          {showRecommendationPrompt && (\n            <button\n              type=\"button\"\n              onClick={handleGetRecommendations}\n              className=\"recommend-btn\"\n            >\n              Get Recommendations\n            </button>\n          )}\n        </div>\n      </form>\n  \n      \n      {/* Error message display */}\n      {error && <div className=\"error\">{error}</div>}\n\n      {/* Generated answer display */}\n      {generatedAnswer && (\n        <div className=\"generated-answer\">\n          <h3>Generated Answer:</h3>\n          {/* Wrap generated answer in a <pre> for better formatting and easy copying */}\n          <pre>{generatedAnswer}</pre>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CodeHelper;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}