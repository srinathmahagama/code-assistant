{"ast":null,"code":"var _jsxFileName = \"/home/srinath/semister_2/TDP/llm-project/front-end/src/components/chatbot/coding_chatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { generateAnswer } from '../../services/api';\nimport { EventEmitter } from 'events';\nimport './floating_chatbot_styles.css'; // External styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const codeHelperEvents = new EventEmitter();\nfunction CodingChatBot() {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [instruction, setInstruction] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const toggleChat = () => {\n    setOpen(!open);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!instruction.trim()) return;\n    const userMessage = {\n      type: 'user',\n      text: instruction\n    };\n    setChatHistory(prev => [...prev, userMessage]);\n    setInstruction('');\n    setLoading(true);\n    setError('');\n    try {\n      const answer = await generateAnswer(userMessage.text);\n      const botMessage = {\n        type: 'bot',\n        text: answer\n      };\n      setChatHistory(prev => [...prev, botMessage]);\n    } catch (err) {\n      setError('‚ö†Ô∏è Failed to get response.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chat-widget ${open ? 'open' : ''}`,\n    children: open ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCAC AI Code Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-btn\",\n          onClick: toggleChat,\n          children: \"\\u2212\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-body\",\n        children: [chatHistory.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `msg ${msg.type}`,\n          children: msg.type === 'bot' ? /*#__PURE__*/_jsxDEV(\"pre\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 39\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 63\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 15\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"msg bot\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 53\n            }, this), \" Generating...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"chat-footer\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: instruction,\n          onChange: e => setInstruction(e.target.value),\n          placeholder: \"Ask something...\",\n          rows: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"chat-toggle\",\n      onClick: toggleChat,\n      children: \"\\uD83D\\uDCAC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(CodingChatBot, \"1PA3Yb0F58tssUrgaA8WEsDvn1s=\");\n_c = CodingChatBot;\nexport default CodingChatBot;\nvar _c;\n$RefreshReg$(_c, \"CodingChatBot\");","map":{"version":3,"names":["React","useState","generateAnswer","EventEmitter","jsxDEV","_jsxDEV","codeHelperEvents","CodingChatBot","_s","open","setOpen","instruction","setInstruction","chatHistory","setChatHistory","loading","setLoading","error","setError","toggleChat","handleSubmit","e","preventDefault","trim","userMessage","type","text","prev","answer","botMessage","err","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","msg","i","onSubmit","value","onChange","target","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["/home/srinath/semister_2/TDP/llm-project/front-end/src/components/chatbot/coding_chatbot.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { generateAnswer } from '../../services/api';\nimport { EventEmitter } from 'events';\nimport './floating_chatbot_styles.css'; // External styles\n\nexport const codeHelperEvents = new EventEmitter();\n\nfunction CodingChatBot() {\n  const [open, setOpen] = useState(false);\n  const [instruction, setInstruction] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const toggleChat = () => {\n    setOpen(!open);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!instruction.trim()) return;\n\n    const userMessage = { type: 'user', text: instruction };\n    setChatHistory((prev) => [...prev, userMessage]);\n    setInstruction('');\n    setLoading(true);\n    setError('');\n\n    try {\n      const answer = await generateAnswer(userMessage.text);\n      const botMessage = { type: 'bot', text: answer };\n      setChatHistory((prev) => [...prev, botMessage]);\n    } catch (err) {\n      setError('‚ö†Ô∏è Failed to get response.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={`chat-widget ${open ? 'open' : ''}`}>\n      {open ? (\n        <div className=\"chat-window\">\n          <div className=\"chat-header\">\n            <h4>üí¨ AI Code Assistant</h4>\n            <button className=\"close-btn\" onClick={toggleChat}>‚àí</button>\n          </div>\n\n          <div className=\"chat-body\">\n            {chatHistory.map((msg, i) => (\n              <div key={i} className={`msg ${msg.type}`}>\n                {msg.type === 'bot' ? <pre>{msg.text}</pre> : <p>{msg.text}</p>}\n              </div>\n            ))}\n            {loading && <div className=\"msg bot\"><p><span className=\"spinner\"></span> Generating...</p></div>}\n          </div>\n\n          <form className=\"chat-footer\" onSubmit={handleSubmit}>\n            <textarea\n              value={instruction}\n              onChange={(e) => setInstruction(e.target.value)}\n              placeholder=\"Ask something...\"\n              rows={2} />\n            <button type=\"submit\" disabled={loading}>Send</button>\n          </form>\n          {error && <div className=\"error\">{error}</div>}\n        </div>\n      ) : (\n        <button className=\"chat-toggle\" onClick={toggleChat}>\n          üí¨\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default CodingChatBot;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}